<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Module proper_symb</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="/" target="_top"><img src="/images/proper_tiny.png" align="right" border="0" alt="PropEr logo"></a></td></tr></table></div>
<hr>

<h1>Module proper_symb</h1>
<ul class="index"><li><a href="#description">Description</a></li><li><a href="#types">Data Types</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>This module contains functions used when symbolically generating
   datatypes.
<p>Copyright © 2010-2011 Manolis Papadakis, Eirini Arvaniti and Kostis Sagonas</p>

<p><b>Version:</b> Jun 9 2011 09:11:40</p>
<p><b>Authors:</b> Manolis Papadakis.</p>

<h2><a name="description">Description</a></h2>This module contains functions used when symbolically generating
   datatypes. When writing properties that involve abstract data types,
   such as dicts or sets, it is usually best to avoid dealing with the ADTs'
   internal representations directly. Working, instead, with a symbolic
   representation of an ADT's construction process (series of API calls)
   has several benefits:
   <ul>
   <li>Failing testcases are easier to read and understand. Compare:<br>
     <pre>        {call,sets,from_list,[[1,2,3]]}</pre>
     with:
     <pre>        {set,3,16,16,8,80,48,
  	      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
  	      {{[],[3],[],[],[],[],[2],[],[],[],[],[1],[],[],[],[]}}}</pre></li>
   <li>Failing testcases are easier to shrink.</li>
   <li>It is especially useful when testing the datatype itself: Certain
     implementation errors may depend on some particular selection and
     ordering of API calls, thus it is important to cover the entire ADT
     construction API.</li>
   </ul>
  
   PropEr supports the symbolic representation of datatypes, using the
   following syntax:
   <ul>
   <li><code>{call,Module,Function,Arguments}</code>: This represents a call to the
     API function <code>Module:Function</code> with arguments <code>Arguments</code>. Each of
     the arguments may be a symbolic call itself or contain other symbolic
     calls in lists or tuples of arbitrary depth.</li>
   <li><code>{'$call',Module,Function,Arguments}</code>: Identical to the above,
     but gets evaluated automatically before being applied to a property.</li>
   <li><code>{var,</code><code><a href="#type-var_id">var_id()</a></code><code>}</code>: This contruct serves as a placeholder for
     values that are not known at type construction time. It will be replaced
     by the actual value of the variable during evaluation.</li>
   </ul>
  
   When including the <code>"proper/include/proper.hrl"</code> header file,
   all <a href="#index">API functions </a> of proper_symb are automatically
   imported, unless <code>PROPER_NO_IMPORTS</code> is defined.
<h2><a name="types">Data Types</a></h2>

<h3 class="typedecl"><a name="type-symb_term">symb_term()</a></h3>
<p><b>abstract datatype</b>: <tt>symb_term()</tt></p>


<h3 class="typedecl"><a name="type-var_id">var_id()</a></h3>
<p><pre>var_id() = atom() | pos_integer()</pre></p>


<h3 class="typedecl"><a name="type-var_values">var_values()</a></h3>
<p><pre>var_values() = [{<a href="#type-var_id">var_id()</a>, term()}]</pre></p>


<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#defined-1">defined/1</a></td><td>Returns true if the symbolic instance can be successfully evaluated
      (its evaluation doesn't raise an error or exception).</td></tr>
<tr><td valign="top"><a href="#eval-1">eval/1</a></td><td>Intended for use inside the property-testing code, this function
       evaluates a symbolic instance.</td></tr>
<tr><td valign="top"><a href="#eval-2">eval/2</a></td><td>Same as <a href="#eval-1"><code>eval/1</code></a>, but accepts a proplist of variable names and
       values, to be replaced anywhere inside the symbolic instance before
       proceeding with the evaluation.</td></tr>
<tr><td valign="top"><a href="#pretty_print-1">pretty_print/1</a></td><td>Similar in calling convention to <a href="#eval-1"><code>eval/1</code></a> but returns a string
       representation of the call sequence instead of evaluating it.</td></tr>
<tr><td valign="top"><a href="#pretty_print-2">pretty_print/2</a></td><td>Similar in calling convention to <a href="#eval-2"><code>eval/2</code></a> but returns a string
       representation of the call sequence instead of evaluating it.</td></tr>
<tr><td valign="top"><a href="#well_defined-1">well_defined/1</a></td><td>An attribute which can be applied to symbolic generators that may
       produce invalid sequences of operations when called.</td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="defined-1">defined/1</a></h3>
<div class="spec">
<p><pre>defined(SymbTerm :: <a href="#type-symb_term">symb_term()</a>) -&gt; boolean()</pre></p>
</div><p>Returns true if the symbolic instance can be successfully evaluated
      (its evaluation doesn't raise an error or exception).</p>

<h3 class="function"><a name="eval-1">eval/1</a></h3>
<div class="spec">
<p><pre>eval(SymbTerm :: <a href="#type-symb_term">symb_term()</a>) -&gt; term()</pre></p>
</div><p>Intended for use inside the property-testing code, this function
       evaluates a symbolic instance.</p>

<h3 class="function"><a name="eval-2">eval/2</a></h3>
<div class="spec">
<p><pre>eval(VarValues :: <a href="#type-var_values">var_values()</a>, SymbTerm :: <a href="#type-symb_term">symb_term()</a>) -&gt; term()</pre></p>
</div><p>Same as <a href="#eval-1"><code>eval/1</code></a>, but accepts a proplist of variable names and
       values, to be replaced anywhere inside the symbolic instance before
       proceeding with the evaluation.</p>

<h3 class="function"><a name="pretty_print-1">pretty_print/1</a></h3>
<div class="spec">
<p><pre>pretty_print(SymbTerm :: <a href="#type-symb_term">symb_term()</a>) -&gt; string()</pre></p>
</div><p>Similar in calling convention to <a href="#eval-1"><code>eval/1</code></a> but returns a string
       representation of the call sequence instead of evaluating it.</p>

<h3 class="function"><a name="pretty_print-2">pretty_print/2</a></h3>
<div class="spec">
<p><pre>pretty_print(VarValues :: <a href="#type-var_values">var_values()</a>, SymbTerm :: <a href="#type-symb_term">symb_term()</a>) -&gt;
                string()</pre></p>
</div><p>Similar in calling convention to <a href="#eval-2"><code>eval/2</code></a> but returns a string
       representation of the call sequence instead of evaluating it.</p>

<h3 class="function"><a name="well_defined-1">well_defined/1</a></h3>
<div class="spec">
<p><pre>well_defined(SymbType :: <a href="proper_types.html#type-raw_type">proper_types:raw_type()</a>) -&gt;
                <a href="proper_types.html#type-type">proper_types:type()</a></pre></p>
</div><p>An attribute which can be applied to symbolic generators that may
       produce invalid sequences of operations when called. The resulting type
       is guaranteed to only produce well-defined symbolic instances.</p>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="/" target="_top"><img src="/images/proper_tiny.png" align="right" border="0" alt="PropEr logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Jun 9 2011, 09:11:40.</i></p>
</body>
</html>
